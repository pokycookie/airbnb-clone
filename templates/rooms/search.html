{% extends "base.html" %} 

<!-- page_name -->

{% block page_name %} 
	Search
{% endblock page_name %} 

<!-- Hide Search-bar -->

{% block search-bar %}
{% endblock search-bar %}

<!-- content -->

{% block content %}

  <h2>Search!</h2>

  <form method="get" action="{% url 'rooms:search' %}">
    <div>
      <lable for="city">City</lable>
      <input value="{{s_city}}" id="city" name="city" placeholder="Search By City" />
    </div>
    <div>
      <label for="country">Country</label>
      <select id="country" name="country">
        <option value="0" {% if s_country_type == 0 %}selected{% endif %}>None</option>
        {% for country in countries %}
          <option value="{{country.code}}" {% if country.code == s_country %}selected{% endif %}>{{country.name}}</option>
        {% endfor %}
      </select>
    </div>
    <div>
      <label for="room_type">Room Type</label>
      <select id="room_type" name="room_type">
        <option value="0" {% if s_room_type == 0 %}selected{% endif %}>None</option>
        {% for room in room_types %}
          <option value="{{room.pk}}" {% if s_room_type == room.pk %}selected{% endif %}>{{room.name}}</option>
        {% endfor %}
      </select>
    </div>

    <div>
      <label for="price">Price</label>
      <input value="{{s_price}}" type="number" name="price" id="price" placeholder="Price" />
      </select>
    </div>
    <div>
      <label for="guests">Guests</label>
      <input value="{{s_guests}}" type="number" name="guests" id="guests" placeholder="Guests" />
      </select>
    </div>
    <div>
      <label for="bedrooms">Bedrooms</label>
      <input value="{{s_bedrooms}}" type="number" name="bedrooms" id="bedrooms" placeholder="Bedrooms" />
      </select>
    </div>
    <div>
      <label for="beds">Beds</label>
      <input value="{{s_beds}}" type="number" name="beds" id="beds" placeholder="Beds" />
      </select>
    </div>
    <div>
      <label for="bathrooms">Bathrooms</label>
      <input value="{{s_bathrooms}}" type="number" name="bathrooms" id="bathrooms" placeholder="Bathrooms" />
      </select>
    </div>

    <div>
      <label for="instant">Only Instant Book</label>
      <input type="checkbox" name="instant" id="instant" {% if s_instant %}checked{% endif %} />
    </div>
    <div>
      <label for="super_host">Only Super Host</label>
      <input type="checkbox" name="super_host" id="super_host" {% if s_super_host %}checked{% endif %} />
    </div>

    <div>
      <h3>Amenities</h3>
      <ul>
        {% for a in amenities %}
          <li>
            <label for="a_{{a.pk}}">{{a.name}}</label>
            <input id="a_{{a.pk}}" name="amenity" type="checkbox" value="{{a.pk}}" {% if a.pk|slugify in s_amenities %}checked{% endif %}/>
          </li>
        {% endfor %}
      </ul>
    </div>
    <div>
      <h3>Facilities</h3>
      <ul>
        {% for f in facilities %}
          <li>
            <label for="f_{{f.pk}}">{{f.name}}</label>
            <input id="f_{{f.pk}}" name="facility" type="checkbox" value="{{f.pk}}" {% if f.pk|slugify in s_facilities %}checked{% endif %} />
          </li>
        {% endfor %}
      </ul>
    </div>

    <button>Search</button>
  </form>

  <h2>Result</h2>

  {% for r in rooms %}
    <h3>{{r.name}}</h3>
  {% endfor %}

{% endblock content %}
